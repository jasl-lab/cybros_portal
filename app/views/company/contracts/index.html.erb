<div class="row">
  <div class="col-lg-12">
    <h3 class="page-title">
      <%= t(".title") %>
    </h3>
    <div class="row">
      <div class="col-lg-12" data-controller="company-contracts">
        <%= form_tag company_contracts_path, method: :get do -%>
          <div class="form-row align-items-center">
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.city") -%></label>
              <%= select_tag 'city', options_for_select(@all_cities, @city), class: 'form-control' %>
            </div>
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.tracestate") -%></label>
              <%= select_tag 'tracestate', options_for_select(@all_tracestates, @tracestate), class: 'form-control form-control2' %>
            </div>
            <div class="col-auto my-1">
              <button type="submit" class="btn btn-primary"><%= t(".form.query") -%></button>
            </div>
          </div>
        <% end %>
        <table id="company-contracts-datatable"
          class="table table-hover table-bordered table-responsive"
          data-source="<%= company_contracts_path(format: :json, city: @city, tracestate: @tracestate) -%>">
          <thead>
            <tr>
              <th><%= t(".table.project_no") -%></th>
              <th><%= t(".table.market_info_name") -%></th>
              <th><%= t(".table.developer_company_name") -%></th>
              <th><%= t(".table.project_type") -%></th>
              <th><%= t(".table.scale_area") -%></th>
              <th><%= t(".table.main_dept_name") -%></th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div id="company-contracts-modal" class="modal" tabindex="-1" role="dialog"></div>
