<div class="row">
  <div class="col-lg-12">
    <div class="row">
      <div class="col-lg-12 px-0 px-sm-1 px-md-2 px-lg-3" data-controller="company-contracts"
        data-company-contracts-page-length-value="<%= my_per_page -%>">
        <%= form_tag company_contracts_path, method: :get do -%>
          <div class="form-row align-items-center">
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.city") -%></label>
              <%= text_field_tag 'city', @city, placeholder: t(".form.city"),class: 'form-control form-control2' %>
            </div>
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.client") -%></label>
              <%= text_field_tag 'client', @client, placeholder: t(".form.client"), class: 'form-control form-control2' %>
            </div>
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.project_item_genre_name") -%></label>
              <%= text_field_tag 'project_item_genre_name', @project_item_genre_name,
                placeholder: t(".form.project_item_genre_name_placeholder"), class: 'form-control form-control2' %>
            </div>
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.query_text") -%></label>
              <%= text_field_tag 'query_text', @query_text, placeholder: t(".form.query_text"), class: 'form-control form-control2' %>
            </div>
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.tracestate") -%></label>
              <%= select_tag 'tracestate', options_for_select(@all_tracestates, @tracestate), class: 'form-control form-control3' %>
            </div>
            <div class="col-auto my-1">
              <label class="mr-sm-2 sr-only"><%= t(".form.createddate_year") -%></label>
              <%= select_tag 'createddate_year', options_for_select(@all_createddate_years, @createddate_year), class: 'form-control form-control3' %>
            </div>
            <div class="col-auto my-1">
              <button type="submit" class="btn btn-primary"><%= t(".form.query") -%></button>
            </div>
          </div>
        <% end %>
        <table id="company-contracts-datatable"
          class="table table-hover table-bordered table-responsive"
          data-source="<%= company_contracts_path(format: :json,
            city: @city, client: @client, tracestate: @tracestate,
            createddate_year: @createddate_year, project_item_genre_name: @project_item_genre_name,
            query_text: @query_text) -%>">
          <thead>
            <tr>
              <th><%= t(".table.project_no_and_name").html_safe -%></th>
              <th><%= t(".table.project_type_and_main_dept_name") -%></th>
              <th><%= t(".table.total_sales_contract_amount") -%></th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div id="company-contracts-modal" class="modal" tabindex="-1" role="dialog"></div>
